---
import { Image } from "astro:assets";
import Tags from "../common/Tags.astro";
import type { ImageMetadata } from "astro";

const { course, isEager } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/img/portfolio/courses/*.jpg');
---
<div id={course.key} class="rounded-lg p-4 flex group hover:neon-ne gap-4">
  <div class="py-1">
    <Image src={images[`/src${course.imgPath}`]()} alt={course.title} width="50" height="50" class="aspect-square object-contain bg-white rounded-lg" loading={isEager ? 'eager' : 'lazy'}/>
  </div>
  <div class="py-2">
    <a transition:name={course.key} href={course.link} class="dark:text-white group-hover:text-ne-600 group-hover:dark:text-ne-300 link-underline font-medium">{ course.title } 
      {course.grade && `(${course.grade})`}
      <i class="fa-solid fa-arrow-up-right-from-square text-sm"></i>
    </a>
    <p class="text-gray-500 text-sm leading-tight">{ course.name }{ course.issuer }</p>
    <Tags tags={course.related} site="portfolio"/>
  </div>
</div>