---
import SmallItemPreviews from '@components/SmallItemPreviews';
import MediumItemPreviews from '@components/MediumItemPreviews';
import LargeItemPreviews from '@components/LargeItemPreviews';
import { allItems } from '@items/getItems';
import Layout from '../../../layouts/Layout.astro';

export const getStaticPaths = () => allItems.map(item => ({
  params: {
    category: item.category,
    type: item.type,
  },
  props: {
    category: item.category,
    type: item.type
  }
}));

export const prerender = true;
const { category, type } = Astro.params;
const items = allItems.filter(item => item.category === category && item.type === type);
---

<Layout>
  <div slot="main">
  {items[0] && items[0].getSize() === 'SMALL' && <SmallItemPreviews items={allItems
    .filter(item => item.category === category && item.type === type)}/>}
  {items[0] && items[0].getSize() === 'MEDIUM' && <MediumItemPreviews items={allItems
    .filter(item => item.category === category && item.type === type)}/>}
  {items[0] && items[0].getSize() === 'LARGE' && <LargeItemPreviews items={allItems
    .filter(item => item.category === category && item.type === type)}/>}
  </div>
<Layout/>