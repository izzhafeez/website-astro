---
import NavBar from "../../../../components/common/NavBar.astro";
import DataHedger from "../../../../components/games/data-hedger/DataHedger";
import Layout from "../../../../layouts/Layout.astro";
import Seo from "../../../../components/seo/Seo.astro";
import gamesData from "../../../../data/games/games.json";
import { getData } from "../../common/decks";

export const prerender = false;
const { id } = Astro.params;
const splitPath = Astro.url.pathname.split("/");
const deckName: string = splitPath[splitPath.length - 2];

let deck = getData(deckName);

const heroText = gamesData["data-hedger"].heroText;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/img/**/*.jpg');
const seoImg = await images[`/src/img/games/stat-attack/${deckName}.jpg`]().then(img => img.default);
---

<Seo {heroText} {seoImg} pageName={deck.title} path={`games/data-hedger/${deckName}/${id}`}/>

<Layout>
  <div slot="main">
    <NavBar/>
    <DataHedger client:only="react" id={id || ""} deck={deck} deckName={deckName}/>
  </div>
</Layout>