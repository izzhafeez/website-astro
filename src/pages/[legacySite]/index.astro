---
import type { GetStaticPaths } from "astro";
import legacyIndex from '../../data/legacy/index.json';
import Layout from "../../layouts/Layout.astro";
import NavBar from "../../components/common/NavBar.astro";
import Footer from "../../components/common/Footer.astro";
import { capitalise } from "../../utils/string";

export const getStaticPaths = (() => {  
  return legacyIndex.map(k => ({
    params: {
      legacySite: k.site
    }
  }));
}) satisfies GetStaticPaths;
---

<Layout>
  <div slot="main" class="flex flex-col justify-between min-h-screen">
    <NavBar/>
    <div class="h-full grid items-center text-center">
      <a href={`https://v6-izzhafeez.netlify.app/${Astro.params.legacySite}`} type='button' class="bg-dt-500 hover:bg-dt-400 text-white mx-auto px-4 py-2 rounded-md text-xl">Visit Legacy {capitalise(Astro.params.legacySite)} Site</a>
    </div>
    <Footer site="home"/>
  </div>
</Layout>